<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Histogramme dernier jeu de données: Référence du fichier /home/ajc/Developpement/Codes_sources/Image_dernier_jeu_de _données/imageWeather.c</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Histogramme dernier jeu de données
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Généré par Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Recherche','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Recherche');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_0429880c22c0fb0d76058398f5bc2ef7.html">Image_dernier_jeu_de _données</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Fonctions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Référence du fichier imageWeather.c</div>  </div>
</div><!--header-->
<div class="contents">

<p>Application en C qui crée des histogrammes à partir du dernier jeu de données météorologiques stockées dans une base de données SQLite appelée weather.db. <br  />
  
<a href="#details">Plus de détails...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;sqlite3.h&gt;</code><br />
<code>#include &lt;gd.h&gt;</code><br />
<code>#include &lt;gdfontt.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Graphe des dépendances par inclusion de imageWeather.c:</div>
<div class="dyncontent">
<div class="center"><img src="image_weather_8c__incl.png" border="0" usemap="#a_2home_2ajc_2_developpement_2_codes__sources_2_image__dernier__jeu__de_01__donn_xC3_xA9es_2image_weather_8c" alt=""/></div>
<map name="a_2home_2ajc_2_developpement_2_codes__sources_2_image__dernier__jeu__de_01__donn_xC3_xA9es_2image_weather_8c" id="a_2home_2ajc_2_developpement_2_codes__sources_2_image__dernier__jeu__de_01__donn_xC3_xA9es_2image_weather_8c">
<area shape="rect" title="Application en C qui crée des histogrammes à partir du dernier jeu de données météorologiques stockée..." alt="" coords="57,5,303,61"/>
<area shape="rect" title=" " alt="" coords="5,109,72,136"/>
<area shape="rect" title=" " alt="" coords="97,109,175,136"/>
<area shape="rect" title=" " alt="" coords="200,109,251,136"/>
<area shape="rect" title=" " alt="" coords="275,109,357,136"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Fonctions</h2></td></tr>
<tr class="memitem:a2267b89e5f6ae4f9013825474e323017"><td class="memItemLeft" align="right" valign="top"><a id="a2267b89e5f6ae4f9013825474e323017"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>if</b> (<a class="el" href="image_weather_8c.html#a30467b1dec89ba4714905eed4c11b38a">rc</a>)</td></tr>
<tr class="separator:a2267b89e5f6ae4f9013825474e323017"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a886d1c2967c5aa9af35f28ed422e4bf8"><td class="memItemLeft" align="right" valign="top"><a id="a886d1c2967c5aa9af35f28ed422e4bf8"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>sprintf</b> (query, &quot;SELECT <a class="el" href="image_weather_8c.html#a68344fa88cf4e86b5079fd69a5c22d57">description</a>, temperature, humidity, pressure, wind_speed, time FROM donnees_meteo ORDER BY time DESC LIMIT 1&quot;)</td></tr>
<tr class="separator:a886d1c2967c5aa9af35f28ed422e4bf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d1f5fd3d2b3620f48b095a770c5c37d"><td class="memItemLeft" align="right" valign="top"><a id="a8d1f5fd3d2b3620f48b095a770c5c37d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>if</b> (<a class="el" href="image_weather_8c.html#a30467b1dec89ba4714905eed4c11b38a">rc</a> !=SQLITE_OK)</td></tr>
<tr class="separator:a8d1f5fd3d2b3620f48b095a770c5c37d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e545d5f796b449e498df5346e185766"><td class="memItemLeft" align="right" valign="top"><a id="a0e545d5f796b449e498df5346e185766"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>for</b> (int i=0;i&lt;=150;i+=5)</td></tr>
<tr class="separator:a0e545d5f796b449e498df5346e185766"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0f89d921bc57dbc2a8112e73bf1ca1e"><td class="memItemLeft" align="right" valign="top"><a id="ad0f89d921bc57dbc2a8112e73bf1ca1e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="image_weather_8c.html#ad0f89d921bc57dbc2a8112e73bf1ca1e">gdImageFilledRectangle</a> (<a class="el" href="image_weather_8c.html#a0e84b6d886b70b0cf21c56e5e26f0ed9">im</a>, 100, 400-(temperature), 150, 400, red)</td></tr>
<tr class="memdesc:ad0f89d921bc57dbc2a8112e73bf1ca1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ces procédures permettent de dessiner les réctangles des histogrammes . <b>lgdImageFilledRectangle</b> permet de créer un réctangle dans les positions indiquées et remplir les réctangles avec la couleur appropriée. <br /></td></tr>
<tr class="separator:ad0f89d921bc57dbc2a8112e73bf1ca1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a321c54c5cacac9177e0ba48fe805861d"><td class="memItemLeft" align="right" valign="top"><a id="a321c54c5cacac9177e0ba48fe805861d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>gdImageFilledRectangle</b> (<a class="el" href="image_weather_8c.html#a0e84b6d886b70b0cf21c56e5e26f0ed9">im</a>, 200, 400-(humidity), 250, 400, blue)</td></tr>
<tr class="separator:a321c54c5cacac9177e0ba48fe805861d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39c4937f730541b4f5587a54256e4541"><td class="memItemLeft" align="right" valign="top"><a id="a39c4937f730541b4f5587a54256e4541"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>gdImageFilledRectangle</b> (<a class="el" href="image_weather_8c.html#a0e84b6d886b70b0cf21c56e5e26f0ed9">im</a>, 300, 400-(pressure), 350, 400, purple)</td></tr>
<tr class="separator:a39c4937f730541b4f5587a54256e4541"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac816b3d540b868461a63f4df789fcef3"><td class="memItemLeft" align="right" valign="top"><a id="ac816b3d540b868461a63f4df789fcef3"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>gdImageFilledRectangle</b> (<a class="el" href="image_weather_8c.html#a0e84b6d886b70b0cf21c56e5e26f0ed9">im</a>, 400, 400-(wind_speed), 450, 400, Lochinvar)</td></tr>
<tr class="separator:ac816b3d540b868461a63f4df789fcef3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71de978d38e1bd3ec23476c6fb09c32d"><td class="memItemLeft" align="right" valign="top"><a id="a71de978d38e1bd3ec23476c6fb09c32d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="image_weather_8c.html#a71de978d38e1bd3ec23476c6fb09c32d">gdImageString</a> (<a class="el" href="image_weather_8c.html#a0e84b6d886b70b0cf21c56e5e26f0ed9">im</a>, gdFontGetTiny(), 100, 410,(unsigned char *) &quot;TEMPERATURE&quot;, red)</td></tr>
<tr class="memdesc:a71de978d38e1bd3ec23476c6fb09c32d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ces procédures permettent d'insérer du texte à côté des histogrammes . <b>gdImageString</b> permet d'insérer du texte. <br /></td></tr>
<tr class="separator:a71de978d38e1bd3ec23476c6fb09c32d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedf13984fe78c48f50aea8f2b1018895"><td class="memItemLeft" align="right" valign="top"><a id="aedf13984fe78c48f50aea8f2b1018895"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>gdImageString</b> (<a class="el" href="image_weather_8c.html#a0e84b6d886b70b0cf21c56e5e26f0ed9">im</a>, gdFontGetTiny(), 200, 410,(unsigned char *) &quot;HUMIDITE&quot;, blue)</td></tr>
<tr class="separator:aedf13984fe78c48f50aea8f2b1018895"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bf5d039f772ae86c7b779b8ff8ee112"><td class="memItemLeft" align="right" valign="top"><a id="a9bf5d039f772ae86c7b779b8ff8ee112"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>gdImageString</b> (<a class="el" href="image_weather_8c.html#a0e84b6d886b70b0cf21c56e5e26f0ed9">im</a>, gdFontGetTiny(), 300, 410,(unsigned char *) &quot;PRESSION&quot;, purple)</td></tr>
<tr class="separator:a9bf5d039f772ae86c7b779b8ff8ee112"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b6b47fc7fb9e0ab716ffd5056ee84fe"><td class="memItemLeft" align="right" valign="top"><a id="a8b6b47fc7fb9e0ab716ffd5056ee84fe"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>gdImageString</b> (<a class="el" href="image_weather_8c.html#a0e84b6d886b70b0cf21c56e5e26f0ed9">im</a>, gdFontGetTiny(), 400, 410,(unsigned char *) &quot;VITESSE DU VENT&quot;, Lochinvar)</td></tr>
<tr class="separator:a8b6b47fc7fb9e0ab716ffd5056ee84fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae79e660be34478b364eda93f3bccf4b8"><td class="memItemLeft" align="right" valign="top"><a id="ae79e660be34478b364eda93f3bccf4b8"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>sprintf</b> (<a class="el" href="image_weather_8c.html#a85f38dcbe0b1f55b550e6571a8401006">temp</a>, &quot;%.2f°C&quot;, temperature)</td></tr>
<tr class="separator:ae79e660be34478b364eda93f3bccf4b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0d1ffe59be80fa2482b2fb55783bccf"><td class="memItemLeft" align="right" valign="top"><a id="ae0d1ffe59be80fa2482b2fb55783bccf"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>gdImageString</b> (<a class="el" href="image_weather_8c.html#a0e84b6d886b70b0cf21c56e5e26f0ed9">im</a>, gdFontGetTiny(), 105, 400-(temperature),(unsigned char *) <a class="el" href="image_weather_8c.html#a85f38dcbe0b1f55b550e6571a8401006">temp</a>, GreenWhite)</td></tr>
<tr class="separator:ae0d1ffe59be80fa2482b2fb55783bccf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33f0e9e53ca7e9a8438e17d71ed827af"><td class="memItemLeft" align="right" valign="top"><a id="a33f0e9e53ca7e9a8438e17d71ed827af"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>sprintf</b> (hum, &quot;%.2f%%&quot;, humidity)</td></tr>
<tr class="separator:a33f0e9e53ca7e9a8438e17d71ed827af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38b622a87d5eb3cddb627d4e22f940f2"><td class="memItemLeft" align="right" valign="top"><a id="a38b622a87d5eb3cddb627d4e22f940f2"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>gdImageString</b> (<a class="el" href="image_weather_8c.html#a0e84b6d886b70b0cf21c56e5e26f0ed9">im</a>, gdFontGetTiny(), 210, 415-(humidity),(unsigned char *) hum, GreenWhite)</td></tr>
<tr class="separator:a38b622a87d5eb3cddb627d4e22f940f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a164defa11e0af20a9deb1ea5cd782698"><td class="memItemLeft" align="right" valign="top"><a id="a164defa11e0af20a9deb1ea5cd782698"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>sprintf</b> (press, &quot;%.2fhPa&quot;, pressure)</td></tr>
<tr class="separator:a164defa11e0af20a9deb1ea5cd782698"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7117b25e525b40fe0421bee0e7ba2648"><td class="memItemLeft" align="right" valign="top"><a id="a7117b25e525b40fe0421bee0e7ba2648"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>gdImageString</b> (<a class="el" href="image_weather_8c.html#a0e84b6d886b70b0cf21c56e5e26f0ed9">im</a>, gdFontGetTiny(), 305, 450-(pressure),(unsigned char *) press, GreenWhite)</td></tr>
<tr class="separator:a7117b25e525b40fe0421bee0e7ba2648"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2c9beaba7777e51523ed3749b2f7877"><td class="memItemLeft" align="right" valign="top"><a id="ac2c9beaba7777e51523ed3749b2f7877"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>sprintf</b> (wind, &quot;%.2fm/s&quot;, wind_speed)</td></tr>
<tr class="separator:ac2c9beaba7777e51523ed3749b2f7877"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef7a4096ff9657a29d238683528a2f72"><td class="memItemLeft" align="right" valign="top"><a id="aef7a4096ff9657a29d238683528a2f72"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>gdImageString</b> (<a class="el" href="image_weather_8c.html#a0e84b6d886b70b0cf21c56e5e26f0ed9">im</a>, gdFontGetTiny(), 405, 390-(wind_speed),(unsigned char *) wind, GreenWhite)</td></tr>
<tr class="separator:aef7a4096ff9657a29d238683528a2f72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad833f84b4e1a3fb8537d986a539ea9a6"><td class="memItemLeft" align="right" valign="top"><a id="ad833f84b4e1a3fb8537d986a539ea9a6"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>gdImageString</b> (<a class="el" href="image_weather_8c.html#a0e84b6d886b70b0cf21c56e5e26f0ed9">im</a>, gdFontGetTiny(), 200, 450,(unsigned char *) &quot;DERNIER JEU DE DONNEES RECUPERE&quot;, GreenWhite)</td></tr>
<tr class="separator:ad833f84b4e1a3fb8537d986a539ea9a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9f5d02e495943b7f469fa410fc180df"><td class="memItemLeft" align="right" valign="top"><a id="ab9f5d02e495943b7f469fa410fc180df"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>gdImagePng</b> (<a class="el" href="image_weather_8c.html#a0e84b6d886b70b0cf21c56e5e26f0ed9">im</a>, <a class="el" href="image_weather_8c.html#a2ffbed364da626849e10dbffbd7b5fa1">pngout</a>)</td></tr>
<tr class="separator:ab9f5d02e495943b7f469fa410fc180df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac204e6088e16d0f44000ba51c81fd406"><td class="memItemLeft" align="right" valign="top"><a id="ac204e6088e16d0f44000ba51c81fd406"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>fclose</b> (<a class="el" href="image_weather_8c.html#a2ffbed364da626849e10dbffbd7b5fa1">pngout</a>)</td></tr>
<tr class="separator:ac204e6088e16d0f44000ba51c81fd406"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a676a3cea8343cf09bd0414d5392c6c78"><td class="memItemLeft" align="right" valign="top"><a id="a676a3cea8343cf09bd0414d5392c6c78"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>gdImageDestroy</b> (<a class="el" href="image_weather_8c.html#a0e84b6d886b70b0cf21c56e5e26f0ed9">im</a>)</td></tr>
<tr class="separator:a676a3cea8343cf09bd0414d5392c6c78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2c26a1e4fe2b1cb60fa2237fd003f6f"><td class="memItemLeft" align="right" valign="top"><a id="aa2c26a1e4fe2b1cb60fa2237fd003f6f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>sqlite3_finalize</b> (stmt)</td></tr>
<tr class="separator:aa2c26a1e4fe2b1cb60fa2237fd003f6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac948fb2a493997167e48eef74d2e508"><td class="memItemLeft" align="right" valign="top"><a id="aac948fb2a493997167e48eef74d2e508"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>sqlite3_close</b> (db)</td></tr>
<tr class="separator:aac948fb2a493997167e48eef74d2e508"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a30467b1dec89ba4714905eed4c11b38a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="image_weather_8c.html#a30467b1dec89ba4714905eed4c11b38a">rc</a> = sqlite3_open(&quot;weather.db&quot;, &amp;db)</td></tr>
<tr class="memdesc:a30467b1dec89ba4714905eed4c11b38a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fonction principale du programme. <b>sqlite *db</b> C'est une variable qui représente une instance de la bibliothèque SQLite3. <br  />
 <b>char *zErrMsg</b> C'est une variable qui enregistre les erreurs qui se produisent lors de l'exécution de requêtes SQL. <b>int rc</b> C'est une variable pour stocker le code de retour d'une opération SQLite. <b>char query[150]</b> C'est un tableau de caractères qui stocke la requête SQL à exécuter. <b>sqlite3_stmt *stmt</b> C'est une variable qui représente une requête SQlite.  <a href="image_weather_8c.html#a30467b1dec89ba4714905eed4c11b38a">Plus de détails...</a><br /></td></tr>
<tr class="separator:a30467b1dec89ba4714905eed4c11b38a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68344fa88cf4e86b5079fd69a5c22d57"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="image_weather_8c.html#a68344fa88cf4e86b5079fd69a5c22d57">description</a> = (const char*)sqlite3_column_text(stmt, 0)</td></tr>
<tr class="memdesc:a68344fa88cf4e86b5079fd69a5c22d57"><td class="mdescLeft">&#160;</td><td class="mdescRight">Procédure qui récupère et les varibales des paramètres <b>time, temperature, humidity, pressure, wind-speed</b>. <b>sqlite3_step(stmt)</b> La boucle s'exécute tant que la fonction <b>sqlite3_step</b> renvoie la constante <b>SQLITE_ROW</b> <b>qlite3_column_double(stmt)</b> Sert à récupérer les valeurs des différentes colonnes pour les stocker dans des variables.  <a href="image_weather_8c.html#a68344fa88cf4e86b5079fd69a5c22d57">Plus de détails...</a><br /></td></tr>
<tr class="separator:a68344fa88cf4e86b5079fd69a5c22d57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4b11c8d9c758430960896bc3fe82ead"><td class="memItemLeft" align="right" valign="top"><a id="ab4b11c8d9c758430960896bc3fe82ead"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>temperature</b> = sqlite3_column_double(stmt, 1)</td></tr>
<tr class="separator:ab4b11c8d9c758430960896bc3fe82ead"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a987616dbcfdfc936af3e5874ef5a41e7"><td class="memItemLeft" align="right" valign="top"><a id="a987616dbcfdfc936af3e5874ef5a41e7"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>humidity</b> = sqlite3_column_double(stmt, 2)</td></tr>
<tr class="separator:a987616dbcfdfc936af3e5874ef5a41e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee1c5d07ac79c5c036195858afe33405"><td class="memItemLeft" align="right" valign="top"><a id="aee1c5d07ac79c5c036195858afe33405"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>pressure</b> = sqlite3_column_double(stmt, 3)/10</td></tr>
<tr class="separator:aee1c5d07ac79c5c036195858afe33405"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01a62de6de3acaa68a34a386b9c374a7"><td class="memItemLeft" align="right" valign="top"><a id="a01a62de6de3acaa68a34a386b9c374a7"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>wind_speed</b> = sqlite3_column_double(stmt, 4)</td></tr>
<tr class="separator:a01a62de6de3acaa68a34a386b9c374a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42715f65f02da52edc5b22021d8ae670"><td class="memItemLeft" align="right" valign="top"><a id="a42715f65f02da52edc5b22021d8ae670"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>time</b> = sqlite3_column_int(stmt, 5)</td></tr>
<tr class="separator:a42715f65f02da52edc5b22021d8ae670"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e84b6d886b70b0cf21c56e5e26f0ed9"><td class="memItemLeft" align="right" valign="top">gdImagePtr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="image_weather_8c.html#a0e84b6d886b70b0cf21c56e5e26f0ed9">im</a> = gdImageCreate(550, 480)</td></tr>
<tr class="memdesc:a0e84b6d886b70b0cf21c56e5e26f0ed9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fonction qui crée une nouvelle image de taille 550x480 pixels. <b>gdImageCreate</b> Permet de créer l'image de 550x480.  <a href="image_weather_8c.html#a0e84b6d886b70b0cf21c56e5e26f0ed9">Plus de détails...</a><br /></td></tr>
<tr class="separator:a0e84b6d886b70b0cf21c56e5e26f0ed9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4dc6d5a60a5ccb4281c166390959f61"><td class="memItemLeft" align="right" valign="top"><a id="aa4dc6d5a60a5ccb4281c166390959f61"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>BlackPearl</b> = gdImageColorAllocate(<a class="el" href="image_weather_8c.html#a0e84b6d886b70b0cf21c56e5e26f0ed9">im</a>, 4, 16, 20)</td></tr>
<tr class="separator:aa4dc6d5a60a5ccb4281c166390959f61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0b9b0ebefeda20798793bd89d6db32e"><td class="memItemLeft" align="right" valign="top"><a id="aa0b9b0ebefeda20798793bd89d6db32e"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>GreenWhite</b> = gdImageColorAllocate(<a class="el" href="image_weather_8c.html#a0e84b6d886b70b0cf21c56e5e26f0ed9">im</a>, 238, 238, 228)</td></tr>
<tr class="separator:aa0b9b0ebefeda20798793bd89d6db32e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6761340706096510fd89edca40a63b9b"><td class="memItemLeft" align="right" valign="top"><a id="a6761340706096510fd89edca40a63b9b"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>red</b> = gdImageColorAllocate(<a class="el" href="image_weather_8c.html#a0e84b6d886b70b0cf21c56e5e26f0ed9">im</a>, 190, 77, 37)</td></tr>
<tr class="separator:a6761340706096510fd89edca40a63b9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16043f28bf0a6b55db852853f0683fc2"><td class="memItemLeft" align="right" valign="top"><a id="a16043f28bf0a6b55db852853f0683fc2"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>blue</b> = gdImageColorAllocate(<a class="el" href="image_weather_8c.html#a0e84b6d886b70b0cf21c56e5e26f0ed9">im</a>, 37, 150, 190)</td></tr>
<tr class="separator:a16043f28bf0a6b55db852853f0683fc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d626bd839a0fd3ec664f1c7cd2dc347"><td class="memItemLeft" align="right" valign="top"><a id="a8d626bd839a0fd3ec664f1c7cd2dc347"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>purple</b> = gdImageColorAllocate(<a class="el" href="image_weather_8c.html#a0e84b6d886b70b0cf21c56e5e26f0ed9">im</a>, 108, 37, 190)</td></tr>
<tr class="separator:a8d626bd839a0fd3ec664f1c7cd2dc347"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bf58ef76f250f855a2c5c864b4ac9fb"><td class="memItemLeft" align="right" valign="top"><a id="a5bf58ef76f250f855a2c5c864b4ac9fb"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>Lochinvar</b> = gdImageColorAllocate(<a class="el" href="image_weather_8c.html#a0e84b6d886b70b0cf21c56e5e26f0ed9">im</a>, 47, 154, 129)</td></tr>
<tr class="separator:a5bf58ef76f250f855a2c5c864b4ac9fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa30ec51c967fe2862f999ec64cb6dc84"><td class="memItemLeft" align="right" valign="top"><a id="aa30ec51c967fe2862f999ec64cb6dc84"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>gray_tram</b> = gdImageColorAllocate(<a class="el" href="image_weather_8c.html#a0e84b6d886b70b0cf21c56e5e26f0ed9">im</a>, 30, 30, 28)</td></tr>
<tr class="separator:aa30ec51c967fe2862f999ec64cb6dc84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a2f84ed7838f07779ae24c5a9086d33"><td class="memItemLeft" align="right" valign="top"><a id="a0a2f84ed7838f07779ae24c5a9086d33"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="image_weather_8c.html#a0a2f84ed7838f07779ae24c5a9086d33">y</a> = 400</td></tr>
<tr class="memdesc:a0a2f84ed7838f07779ae24c5a9086d33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Boucle qui crée des valeurs de graduations, des étiquettes et une trame de fond pour les histogrammes. <b>la boucle for</b> s'exécute 150 fois en incrémentant la variable i de 5 afin de dessiner la trame de fond. La fonction <b>gdImageLine</b> permet ensuite de dessiner les lignes de la tame de fond. <b>sprintf</b> formate la valeur de "i" en tant que chaîne de caractères et la stocke dans une variable appelée "graduation". <b>gdImageLine</b> permet aussi de dessiner l'axe x. <b>gdImageString</b> et <b>gdFontGetTiny()</b> permet d'écrire la chaine de caractère sur l'image. <br /></td></tr>
<tr class="separator:a0a2f84ed7838f07779ae24c5a9086d33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85f38dcbe0b1f55b550e6571a8401006"><td class="memItemLeft" align="right" valign="top"><a id="a85f38dcbe0b1f55b550e6571a8401006"></a>
char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="image_weather_8c.html#a85f38dcbe0b1f55b550e6571a8401006">temp</a> [15]</td></tr>
<tr class="memdesc:a85f38dcbe0b1f55b550e6571a8401006"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ces fonctions permettent d'insérer les valeurs des paramètre récupérées dans les histogrammes. <b>char temp[15]</b> Tableau de caractères "temp" avec une taille de 15 éléments. <b>sprintf</b> formate la valeur de la variable "temperature" en une chaîne de caractères stockée dans "temp". La valeur est formatée avec seulement 2 décimales et le symbole de degré Celsius "°C" est ajouté à la fin. <b>gdImageString</b> dessine le txte stocké dans "temp". Elle prend les paramètres de l'objet de l'image "im", de position, de la police et de couleur. <br /></td></tr>
<tr class="separator:a85f38dcbe0b1f55b550e6571a8401006"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf791ca42e20bc93e40966798a6b80f0"><td class="memItemLeft" align="right" valign="top"><a id="abf791ca42e20bc93e40966798a6b80f0"></a>
char&#160;</td><td class="memItemRight" valign="bottom"><b>hum</b> [15]</td></tr>
<tr class="separator:abf791ca42e20bc93e40966798a6b80f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e9f2c1c98a45d71864b562e2f1cdf13"><td class="memItemLeft" align="right" valign="top"><a id="a2e9f2c1c98a45d71864b562e2f1cdf13"></a>
char&#160;</td><td class="memItemRight" valign="bottom"><b>press</b> [15]</td></tr>
<tr class="separator:a2e9f2c1c98a45d71864b562e2f1cdf13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb652df894d538a755bd6ba7172c0d29"><td class="memItemLeft" align="right" valign="top"><a id="adb652df894d538a755bd6ba7172c0d29"></a>
char&#160;</td><td class="memItemRight" valign="bottom"><b>wind</b> [15]</td></tr>
<tr class="separator:adb652df894d538a755bd6ba7172c0d29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ffbed364da626849e10dbffbd7b5fa1"><td class="memItemLeft" align="right" valign="top">FILE *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="image_weather_8c.html#a2ffbed364da626849e10dbffbd7b5fa1">pngout</a> = fopen(&quot;histogramme.png&quot;, &quot;wb&quot;)</td></tr>
<tr class="memdesc:a2ffbed364da626849e10dbffbd7b5fa1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enregistrement de l'image et libératuion de la mémoire. <b>out</b> est un pointeur de fichier déclaré pour stocker la sortie de l'image PNG. <b>fopen("grapheData.png", "wb")</b> ouvre un fichier nommé "grapheData.png" en mode <b>wb</b> (écriture binaire). if (out == NULL)** vérifie si le fichier <b>grapheData.png</b> peut être ouvert. Si ce n'est pas le cas, le message "Impossible de créer l'image" est affiché et la fonction retourne 1. gdImagePng(im, out)** utilise la fonction gdImagePng pour enregistrer l'image "im" dans le fichier "out". fclose(out)" ferme le fichier **out**.
gdImageDestroy(im)** détruit l'image "im" en libérant la mémoire allouée pour cette image.  <a href="image_weather_8c.html#a2ffbed364da626849e10dbffbd7b5fa1">Plus de détails...</a><br /></td></tr>
<tr class="separator:a2ffbed364da626849e10dbffbd7b5fa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9717e7bbecb906637e86cef6da3d83c2"><td class="memItemLeft" align="right" valign="top"><a id="a9717e7bbecb906637e86cef6da3d83c2"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>return</b></td></tr>
<tr class="separator:a9717e7bbecb906637e86cef6da3d83c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Description détaillée</h2>
<div class="textblock"><p>Application en C qui crée des histogrammes à partir du dernier jeu de données météorologiques stockées dans une base de données SQLite appelée weather.db. <br  />
 </p>
<dl class="section author"><dt>Auteur</dt><dd>Lyes KETAMI </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>14/02/2023 </dd></dl>
</div><h2 class="groupheader">Documentation des variables</h2>
<a id="a68344fa88cf4e86b5079fd69a5c22d57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68344fa88cf4e86b5079fd69a5c22d57">&#9670;&nbsp;</a></span>description</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* description = (const char*)sqlite3_column_text(stmt, 0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Procédure qui récupère et les varibales des paramètres <b>time, temperature, humidity, pressure, wind-speed</b>. <b>sqlite3_step(stmt)</b> La boucle s'exécute tant que la fonction <b>sqlite3_step</b> renvoie la constante <b>SQLITE_ROW</b> <b>qlite3_column_double(stmt)</b> Sert à récupérer les valeurs des différentes colonnes pour les stocker dans des variables. </p>
<p>Pour une raison de confort visuel sur les graphes, j'ai utilisé l'unité <b>hPa</b> plutôt que <b>kPa</b> fournie par l'API<br  />
(1 kilo Pascal = 10 hecto Pascal) d'où la division de pressure par 10 avant de stocker la variable <b>pressure</b>. <br  />
 </p>

</div>
</div>
<a id="a0e84b6d886b70b0cf21c56e5e26f0ed9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e84b6d886b70b0cf21c56e5e26f0ed9">&#9670;&nbsp;</a></span>im</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gdImagePtr im = gdImageCreate(550, 480)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fonction qui crée une nouvelle image de taille 550x480 pixels. <b>gdImageCreate</b> Permet de créer l'image de 550x480. </p>
<p><b>gdImageColorAllocate</b> Permet l'allocation des différentes couleurs pour l'image, les histogrames, le fond d'écran,...etc. <br  />
 </p>

</div>
</div>
<a id="a2ffbed364da626849e10dbffbd7b5fa1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ffbed364da626849e10dbffbd7b5fa1">&#9670;&nbsp;</a></span>pngout</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FILE* pngout = fopen(&quot;histogramme.png&quot;, &quot;wb&quot;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enregistrement de l'image et libératuion de la mémoire. <b>out</b> est un pointeur de fichier déclaré pour stocker la sortie de l'image PNG. <b>fopen("grapheData.png", "wb")</b> ouvre un fichier nommé "grapheData.png" en mode <b>wb</b> (écriture binaire). if (out == NULL)** vérifie si le fichier <b>grapheData.png</b> peut être ouvert. Si ce n'est pas le cas, le message "Impossible de créer l'image" est affiché et la fonction retourne 1. gdImagePng(im, out)** utilise la fonction gdImagePng pour enregistrer l'image "im" dans le fichier "out". fclose(out)" ferme le fichier **out**.
gdImageDestroy(im)** détruit l'image "im" en libérant la mémoire allouée pour cette image. </p>
<dl class="section return"><dt>Renvoie</dt><dd>0. </dd></dl>

</div>
</div>
<a id="a30467b1dec89ba4714905eed4c11b38a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30467b1dec89ba4714905eed4c11b38a">&#9670;&nbsp;</a></span>rc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rc = sqlite3_open(&quot;weather.db&quot;, &amp;db)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fonction principale du programme. <b>sqlite *db</b> C'est une variable qui représente une instance de la bibliothèque SQLite3. <br  />
 <b>char *zErrMsg</b> C'est une variable qui enregistre les erreurs qui se produisent lors de l'exécution de requêtes SQL. <b>int rc</b> C'est une variable pour stocker le code de retour d'une opération SQLite. <b>char query[150]</b> C'est un tableau de caractères qui stocke la requête SQL à exécuter. <b>sqlite3_stmt *stmt</b> C'est une variable qui représente une requête SQlite. </p>
<p>int main(int argc, char** argv) { sqlite3 *db; char *zErrMsg = 0; int rc; char query[150]; sqlite3_stmt *stmt;</p>
<p>C'est une procédure qui permet d'accéder à une base de données nommée "weather.db". Elle récupère le dernier jeu de données météorologiques récupéré. Elle affiche un messsage d'erreur si la base de données n'a pas pu être ouverte ou si la requête a échoué. <b>sqlite3_prepare_v2</b> Fonction qui prépare la requête et vérifie si elle s'exécute correctement. <b>sqlite3_free(zErrMsg)</b> Cette instruction libère la mémoire qui a été allouée pour la variable "zErrMsg" <b>sqlite3_close(db)</b> ferme la connexion à la base de données SQLite spécifiée par la variable "db". </p><dl class="section return"><dt>Renvoie</dt><dd>code 1 termine le programme en renvoyant un code de retour de 1, si il y a une erreur. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Généré par&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
